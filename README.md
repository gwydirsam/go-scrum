# `scrum`

A Joyent scrum submission utility.

## Installation

1. Install `scrum`: `go get -v -u github.com/gwydirsam/go-scrum/cmd/scrum`
2. Make sure `scrum` is in your path: ```
$ export GOPATH=`go env GOPATH`
$ export PATH=$GOPATH/bin:$PATH
$ which scrum
```
3. Initialize a config file or set environment variables.
  1. To use the `scrum` config file, use run `scrum init` to generate a default
     config file.
  2. Set environment variables.  See the #direnv section below.

Regardless of the config file used, `MANTA_KEY_ID` is generated by one of the
following:

```
ssh-keygen -E md5 -lf ~/.ssh/id_rsa.pub | awk '{print $2}' | cut -d : -f 2-
ssh-keygen -E md5 -lf ~/.ssh/id_ecdsa.pub | awk '{print $2}' | cut -d : -f 2-
```

## Usage

### `scrum get` Usage

```
$ scrum get 
Vacation until 2017/11/24
$ scrum get -h
Get scrum information, either for yourself or teammates

Usage:
  scrum get [flags]

Examples:
  $ scrum get                      # Get my scrum for today
  $ scrum get -t -u other.username # Get other.username's scrum for tomorrow

Flags:
  -h, --help   help for get

Global Flags:
  -F, --log-format string      Specify the log format ("auto", "zerolog", or "human") (default "auto")
  -l, --log-level string       Change the log level being sent to stdout (default "INFO")
  -A, --manta-account string   Manta account name (default "Joyent_Dev")
      --manta-key-id string    SSH key fingerprint (default is $MANTA_KEY_ID)
  -E, --manta-url string       URL of the Manta instance (default is $MANTA_URL) (default "https://us-east.manta.joyent.com")
  -U, --manta-user string      Manta username to scrum as (default "$MANTA_USER")
  -t, --tomorrow               Scrum for tomorrow
      --use-color              Use ASCII colors (default true)
  -u, --user string            username to scrum as (default "$USER")
```

### `scrum set` Usage

```
$ scrum set -h
Set scrum information, either for yourself or teammates

Usage:
  scrum set [flags]

Examples:
  $ scrum set -i today.md                         # Set my scrum using today.md
  $ scrum set -t -u other.username -i tomorrow.md # Set other.username's scrum for tomorrow

Flags:
  -d, --days uint       Scrum for n days from now
  -i, --file string     File to read scrum from
  -f, --force           Force overwrite of any present scrum
  -h, --help            help for set
  -s, --sick uint       Sick leave for n days
  -v, --vacation uint   Vacation for N days

Global Flags:
  -F, --log-format string      Specify the log format ("auto", "zerolog", or "human") (default "auto")
  -l, --log-level string       Change the log level being sent to stdout (default "INFO")
  -A, --manta-account string   Manta account name (default "Joyent_Dev")
      --manta-key-id string    SSH key fingerprint (default is $MANTA_KEY_ID)
  -E, --manta-url string       URL of the Manta instance (default is $MANTA_URL) (default "https://us-east.manta.joyent.com")
  -U, --manta-user string      Manta username to scrum as (default "$MANTA_USER")
  -t, --tomorrow               Scrum for tomorrow
      --use-color              Use ASCII colors (default true)
  -u, --user string            username to scrum as (default "$USER")
```

## `direnv`

1. Install [`direnv`](https://github.com/direnv/direnv) and integrate into your
   shell.
2. Populate a `.envrc` file:```
export MANTA_USER=my-manta-username
export MANTA_URL=https://us-east.manta.joyent.com
export MANTA_KEY_ID=00:11:22:33:44:55:66:77:88:99:aa:bb:cc:dd:ee:ff
```
3. `direnv allow` the directory containing the `.envrc` file.

